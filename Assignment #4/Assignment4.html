<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Assignment4</title><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 .s1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 h1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 15.5pt; }
 h3 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10.5pt; }
 .p, p { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; margin:0pt; }
 h2 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s3 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10.5pt; }
 .s4 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s6 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .a { color: #00F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 10.5pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
</style></head><body><p class="s1" style="padding-top: 1pt;padding-left: 152pt;text-indent: 0pt;text-align: center;">CS / SE 149</p><p class="s2" style="padding-left: 152pt;text-indent: 0pt;text-align: center;">Operating Systems</p><p class="s1" style="padding-top: 9pt;padding-left: 152pt;text-indent: 0pt;text-align: center;">Spring Semester 2014</p><p class="s1" style="padding-top: 9pt;padding-left: 127pt;text-indent: 0pt;text-align: center;">Department of Computer Science San José State University Instructor: Ron Mak</p><h1 style="padding-top: 12pt;padding-left: 152pt;text-indent: 0pt;text-align: center;">Assignment #4</h1><h3 style="padding-top: 12pt;padding-left: 89pt;text-indent: 0pt;text-align: left;">Assigned:    <span class="p">Thursday, March 5</span></h3><h3 style="padding-left: 153pt;text-indent: -35pt;text-align: left;">Due:    <span class="p">Friday, March 20 at 11:59 pm 100 points, team assignment</span></h3><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Swapping and paging</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The purpose of this assignment is to explore the various memory management algorithms for swapping and paging. You will write a series of small simulation programs in Java, C, or C++ (your choice). As in Assignment #2, you will generate simulated processes. You should not need to make any process management system calls.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Swapping</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Assume main memory has 100 MB for swapping with variable-sized partitions. Processes have randomly and evenly distributed sizes of 5, 11, 17, and 31 MB. Processes have randomly and evenly distributed durations of 1, 2, 3, 4, or 5 seconds.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Write programs that simulate the <b>first fit</b>, <b>next fit</b>, <b>best fit</b>, and <b>worst fit </b>memory allocation algorithms. Do not perform memory compaction.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Run each algorithm 5 times simulating 1 minute each time to get an average of the number of processes successfully swapped into memory (but not necessarily completed) during the minute. Generate enough new random processes before each run so that the job queue is never empty. According to the algorithm, allocate them into memory in the order that you generated them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">For each algorithm, print the average number of processes that were successfully swapped in (but not necessarily completed). Each time a process is swapped in, or a process completes and therefore is removed from memory, print a memory map, e.g., <span class="s3">AAAAA....BBBBBBBB..CCCC </span>where the characters are the process names (one character per MB) and the dots are holes (one per MB). Indicate which process entered or left. For an entering process, also print its size and duration.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">For each algorithm, print the average number of processes (over the 5 runs) that were successfully swapped in.</p><h2 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Extra credit <span class="p">(up to 10 points)</span></h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Rerun all your algorithms, but this time, after 30 (simulated) seconds, do one <b>memory compaction</b>. On average for each algorithm, how many MB of memory were copied during compaction? How does compaction change the average number of processes that were successfully swapped in?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Paging</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">You are running a process that consists of 10 pages numbered 0 through 9. Physical memory has 4 page frames. There are always 10 page frames available on disk. When the process starts, none of its pages are in memory.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The process makes random references to its pages. Due to <b>locality of reference</b>, after referencing a page <span class="s4">i</span>, there is a 70% probability that the next reference will be to page</p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">i<span class="p">, </span>i<span class="p">-1, or </span>i<span class="p">+1. In other words, there is a 70% probability that for a given </span>i<span class="p">, Δ</span>i <span class="p">will be -1, 0, or +1. Otherwise, |Δ</span>i<span class="p">| &gt; 1. Page references should wrap from 9 back to 0.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Suggested  procedure:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l1"><li style="padding-left: 41pt;text-indent: -18pt;text-align: left;"><p style="display: inline;">Given page reference <span class="s4">i</span>, to compute the next page reference, first generate a random number <span class="s4">r </span>from 0 through 9.</p></li><li style="padding-left: 41pt;text-indent: -18pt;text-align: left;"><p style="display: inline;">If 0 ≤ <span class="s4">r </span>&lt; 7, then generate a random Δ<span class="s4">i </span>to be -1, 0, or +1.</p></li><li style="padding-left: 41pt;text-indent: -18pt;text-align: left;"><p style="display: inline;">For 7 ≤ <span class="s4">r </span>≤ 9, randomly generate 2 ≤ Δ<i>i </i>≤ 8.</p></li><li style="padding-left: 41pt;text-indent: -18pt;text-align: left;"><p style="display: inline;">The next value of <span class="s4">i </span>is <span class="s4">i </span>+ Δ<span class="s4">i</span><span class="s6">. </span>The value of <span class="s4">i </span>wraps around from 9 to 0.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Simulate the <b>FIFO</b>, <b>LRU</b>, <b>LFU</b>, <b>MFU</b>, and <b>random pick </b>page replacement algorithms. Run each algorithm 5 times, 100 page references each time, to compute an <b>average hit ratio </b>of pages already in memory. For each reference, print the page numbers of the pages in memory and which page (if any) needed to be paged in and which page was evicted.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">What to turn in</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Email a zip file to <a href="mailto:ron.mak@sjsu.edu" class="a" target="_blank">ron.mak@sjsu.edu </a>that contains:</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li style="padding-top: 3pt;padding-left: 41pt;text-indent: -18pt;text-align: left;"><p style="display: inline;">Your source files.</p></li><li style="padding-left: 41pt;text-indent: -18pt;text-align: left;"><p style="display: inline;">Your output.</p></li><li style="padding-left: 41pt;text-indent: -18pt;text-align: left;"><p style="display: inline;">A short report describing your results. Note clearly in your report if you did the extra credit.</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Name the file after your team, such as  SuperCoders<span class="s3">.zip</span>. Your subject line should be</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">CS 149-<span class="s4">section  </span>Assignment #4 <span class="s4">team name</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Don’t forget to CC all your team members.</p></body></html>
